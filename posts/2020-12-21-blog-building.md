---
title: '自前ブログ作り'
date: '2020-12-21'
---

久々にブログを作りたくなったので、ドメインを取得して作ってみた。

7 月に住まいを引っ越してからいろいろ物を買うことが多く、そのたびにちょっとした感想や記録などを書き残しておきたかったが、いまいち適したプラットフォームが無いように感じていた。

ブログは過去に WordPress、はてな、ここ数年は medium、contentful + GitHub Pages、そして note などにポツポツと書いていたけど、どうにもツールのせいか書くのに手間がかかる印象がある。

このごろはツイッター以上、ブログサービス未満、というあたりのものが欲しい感じがしていた。

そうした観点でいうと [r7kamura さんのブログ](https://r7kamura.com/) は、良質な生活情報を更新頻度高く紡ぎ続けていて、今どきこんなサイトが？という驚きさえ感じる。レイアウトや文体もシンプルで読みやすく、昔のインターネットではこういう雑文サイト読むのが好きだったなと思い出す。おそらくはツイッター以降になって解体されてしまったのか、自分がツイッターばかり見るようになったのか…。

なので真似してブログ作ってみたいと思った。

構成は nextjs + markdown + vercel で SSG 。とりあえずスターターで作ってみたらほぼ近いレイアウトになっていた。あと自分用のドメインも取ったことが無かったので取ってみたが、これもサクッと設定できた。

ローカルの markdown ファイルの場合、画像の管理をどうするかというのはわりとめんどくさい問題だけれど、[imgur に上げてる](https://r7kamura.com/articles/2020-11-09-imgur)というのを見てそれも真似することにした。

markdown だとキャプション付き画像という記法が無いので、画像 URL の次の行にテキストがあればキャプション付き画像とする remark の plugin を自作した。だいたい markdown の画像記法 `![altテキスト](URL)`はだるすぎてよくない。

あとちょっと問題なのは、編集中に markdown ファイルを保存しても自動でプレビューが更新されないこと。[それっぽい議論](https://github.com/vercel/next.js/discussions/11419) はあったけど本当にこんな面倒なのかどうか？
